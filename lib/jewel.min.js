window.addEventListener("load",function(){Jewel.load()}),window.Jewel=function(a){Jewel.$callback=a,Jewel.$containers=[]},Jewel.load=function(){Jewel.$callback()},Jewel.add=function(a){Jewel.$containers.indexOf(a)<0&&Jewel.$containers.push(a)},Jewel.paint=function(){for(var a=Jewel.$containers,b=0,c=a.length;c>b;b++)document.body.contains(a[b].$element)&&document.body.removeChild(a[b].$element),a[b].paint(),document.body.contains(a[b].$element)||document.body.appendChild(a[b].$element)},Jewel.update=function(){for(var a=Jewel.$containers,b=0,c=a.length;c>b;b++)a[b].update()},Jewel.Component=function(){this.$identifier="",this.$text="",this.$element=void 0,this.$id="",this.$classes=[],this.$events=[],this.$styles=[]},Jewel.Component.prototype={text:function(a){return null!=a&&void 0!=a&&(this.$text=a),this.$text},on:function(a,b){this.$events.push({event:a,callback:b})},style:function(a){return null!=a&&void 0!=a&&(this.$styles=a),this.$styles},addClass:function(a){for(var b=0;a>b;b++)this.$classes.push(a[b])},removeClass:function(a){for(var b=0;a>b;b++)this.$classes.splice(this.$classes.indexOf(a[b]))},paint:function(){this.$element=document.createElement(this.$identifier),this.update()},update:function(){if(this.$element){var a=this.$element;a.innerHTML=this.$text,this.behave()}},behave:function(){if(this.$element){for(var a=this.$element,b=this.$styles,c=0;c<b.length;c++)a.style[b[c][0]]=b[c][1];for(var d=this.$classes,c=0;c<d.length;c++)a.classList.add(d[c]);for(var e=this.$events,c=0;c<e.length;c++)a.removeEventListener(e[c].event,e[c].callback),a.addEventListener(e[c].event,e[c].callback)}}},Jewel.Container=function(){this.$identifier="div",this.$controls=[],this.$element=void 0},Jewel.Container.prototype=new Jewel.Component,Jewel.Container.prototype.add=function(a){return this.$controls.indexOf(a)<0?(this.$controls.push(a),!0):!1},Jewel.Container.prototype.update=function(){if(this.$element){for(var a=this.$element,b=this.$controls,c=0,d=b.length;d>c;c++)a.contains(b[c].$element)?b[c].update():(b[c].paint(),a.appendChild(b[c].$element));this.behave()}},Jewel.Span=function(a){this.$identifier="span",this.$text=a||"",this.$element=void 0,this.$id="",this.$classes=[],this.$events=[],this.$styles=[]},Jewel.Span.prototype=new Jewel.Component,Jewel.Atom=function(a){this.$identifier="div",this.$text=a||"",this.$element=void 0,this.$id="",this.$classes=[],this.$events=[],this.$styles=[]},Jewel.Atom.prototype=new Jewel.Component,Jewel.Button=function(a){this.$identifier="button",this.$text=a||"",this.$element=void 0,this.$id="",this.$classes=[],this.$events=[],this.$styles=[]},Jewel.Button.prototype=new Jewel.Component,Jewel.TextBox=function(a){this.$identifier="input",this.$first=!0,this.$text=a||"",this.$element=void 0,this.$id="",this.$classes=[],this.$events=[],this.$styles=[]},Jewel.TextBox.prototype=new Jewel.Component,Jewel.TextBox.prototype.update=function(){if(this.$element){this.$first||this.text(),this.$first=!1;var a=this.$element;a.type="text",a.value=this.$text,this.behave()}};