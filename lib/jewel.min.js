window.addEventListener("load",function(){Jewel.load()}),window.Jewel=function(a){Jewel._callback=a,Jewel._containers=[]},Jewel.load=function(){Jewel._callback()},Jewel.add=function(a){Jewel._containers.indexOf(a)<0&&Jewel._containers.push(a)},Jewel.paint=function(){for(var a=Jewel._containers,b=0,c=a.length;c>b;b++)document.body.contains(a[b]._element)&&document.body.removeChild(a[b]._element),a[b].paint(),document.body.contains(a[b]._element)||document.body.appendChild(a[b]._element)},Jewel.update=function(){for(var a=Jewel._containers,b=0,c=a.length;c>b;b++)a[b].update()},Jewel.Component=function(){this._identifier="",this._text="",this._element=void 0,this._id="",this._classes=[],this._events=[],this._styles=[]},Jewel.Component.prototype={text:function(a){return null!=a&&void 0!=a&&(this._text=a),this._text},on:function(a,b){this._events.push({event:a,callback:b})},style:function(a){return null!=a&&void 0!=a&&(this._styles=a),this._styles},addClass:function(a){for(var b=0,c=a.length;c>b;b++)this._classes.push(a[b])},removeClass:function(a){for(var b=0,c=a.length;c>b;b++)this._classes.splice(this._classes.indexOf(a[b]))},paint:function(){this._element=document.createElement(this._identifier),this.update()},update:function(){if(this._element){var a=this._element;a.innerHTML=this._text,this.behave()}},behave:function(){if(this._element){for(var a=this._element,b=this._styles,c=0;c<b.length;c++)a.style[b[c][0]]=b[c][1];for(var d=this._classes,c=0;c<d.length;c++)a.classList.add(d[c]);for(var e=this._events,c=0;c<e.length;c++)a.removeEventListener(e[c].event,e[c].callback),a.addEventListener(e[c].event,e[c].callback)}}},Jewel.Container=function(){this._identifier="div",this._controls=[],this._element=void 0},Jewel.Container.prototype=new Jewel.Component,Jewel.Container.prototype.add=function(a){return this._controls.indexOf(a)<0?(this._controls.push(a),!0):!1},Jewel.Container.prototype.update=function(){if(this._element){for(var a=this._element,b=this._controls,c=0,d=b.length;d>c;c++)a.contains(b[c]._element)?b[c].update():(b[c].paint(),a.appendChild(b[c]._element));this.behave()}},Jewel.Span=function(a){this._identifier="span",this._text=a||"",this._element=void 0,this._id="",this._classes=[],this._events=[],this._styles=[]},Jewel.Span.prototype=new Jewel.Component,Jewel.Atom=function(a){this._identifier="div",this._text=a||"",this._element=void 0,this._id="",this._classes=[],this._events=[],this._styles=[]},Jewel.Atom.prototype=new Jewel.Component,Jewel.Button=function(a){this._identifier="button",this._text=a||"",this._element=void 0,this._id="",this._classes=[],this._events=[],this._styles=[]},Jewel.Button.prototype=new Jewel.Component,Jewel.TextBox=function(a){this._identifier="input",this._first=!0,this._text=a||"",this._element=void 0,this._id="",this._classes=[],this._events=[],this._styles=[]},Jewel.TextBox.prototype=new Jewel.Component,Jewel.TextBox.prototype.update=function(){if(this._element){this._first||this.text(),this._first=!1;var a=this._element;a.type="text",a.value=this._text,this.behave()}};